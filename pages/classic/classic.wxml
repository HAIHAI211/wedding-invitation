<wxs module="m1">
  var isFirst = function(currentIndex) {
    console.log('isFirst', currentIndex === 0)
    return currentIndex === 0
  }
  var isLast = function(currentIndex, max) {
    console.log('isLast', currentIndex === max)
    return currentIndex === max
  }

  module.exports.isFirst = isFirst
  module.exports.isLast = isLast
</wxs>
<template name="photo">
    <h-movie img="{{image}}" content="{{content}}" index="{{index}}"/>
</template>
<template name="invitation">
    <h-invi content="{{content}}"
            time="{{time}}"
            nongTime="{{nong_time}}"
            hotel="{{hotel}}"
            hotelRoom="{{hotel_room}}"
            index="{{index}}"/>
</template>

<view class="container">
    <view class="header">
        <h-date
        class="date"
        index="{{classicArr[index].index}}"
        year="{{classicArr[index].year}}" month="{{classicArr[index].month}}"/>
        <h-like class="like" bind:like="onLike"  like="{{likeStatus}}" count="{{likeCount}}"/>
    </view>
    <template is="{{classicArr[index].type === 'invitation' ? 'invitation' : 'photo'}}" data="{{...classicArr[index]}}"/>
    <h-navi class="navi"
    title="{{classicArr[index].title}}"
    first="{{m1.isFirst(index)}}"
    last="{{m1.isLast(index, classicArr.length-1)}}" bind:left="onPrevious" bind:right="onNext"/>
</view>
